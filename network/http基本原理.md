### 前言
五层网络架构：
- 物理层
- 数据链路层
- 网络层
- 传输层
- 应用层

HTTP请求是一个基于TCP/IP通讯协议来传递数据的应用协议

### HTTP协议三个特点
1、无状态协议：http请求中，服务器不会在多个请求之间维护用户信息。但实际应用中，又往往存在这种需求：比如购物车等，所以这时候就停入了cookies和session的会话技术。

无状态的协议如何识别是同一个客户
会话：
- response中，cookie header line用于返回服务器为用户分配的cookieID
- request中，cookie header line用于告知服务器请求来自于哪一个用户的cookieID
- 用户客户端上本地存储维护的cookie文件，记录用户行为
- 网站本身的后台数据库，保存了用户与cookie ID间映射关系等数据

2、无连接协议：每次HTTP请求都需要经历三次握手，四次挥手的过程
> 三次握手：为了建立可靠的连接
> - 第一次握手：建立连接时，客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认； 
> - 第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态； 
> - 第三次握手：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。 完成三次握手，客户端与服务器开始传送数据.

> 四次挥手：保证确实关闭连接了
> - 第一次挥手：客户端发送SYN报文通知服务器断开连接，进入FIN_WAIT1状态
> - 第二次挥手：服务器收到信息后发送ACK信息给客户端，表示收到关闭请求了，同时如果还有报文没发送完毕的继续发送。此时客户端进入FIN_WAIT2状态
> - 第三次挥手：当服务器发送完毕后，给客户端发送ACK报文，表示已经没有信息发送了，可以关闭连接了，同时进入CLOSE_WAIT状态
> - 第四次挥手：客户端收到FIN报文后，给服务器发送ACK报文，同时服务器进入CLOSE状态，此时客户端还没有立即进入CLOSE状态，它要等到2MSL的时间后才进入CLOSE状态，因为客户端发送出ACK报文后有可能丢失，2MSL时间后，就基本可以确认关闭连接了。

3、HTTP是媒体独立的：这意味着只要是客户端和服务器知道如何处理的数据类型，都可以通过HTTP发送。

### HTTP请求方法
- GET：请求资源，除请求资源外不应产生其他效果。
- HEAD：功能与GET相当，区别在于响应中不包括具体数据，即不包括response body。可以理解为GET的轻量级，只查看元信息而不实际获取。
- POST：将请求体body中的数据推送到服务器，或是存储在URI指定的资源下，或是其他实现形式。
- PUT：将请求体body中的数据存储到服务器URI指定位置，如该URI已有资源，将被修改，如果资源，则将创建。
- DELETE：删除服务器中指定的资源。
- TRACE：告诉服务器回传所收到的请求，以便客户端确认链路中是否发生修改行为。
- OPTIONS：返回服务器在指定URI上所支持的方法，如URI为‘*’，则查询服务器本身。
- CONNECT：告知服务器去返回指定URI，并将其获取到的response转发回请求客户端，相对于代理，网页开发中并不常用，仅做预留。
- PATCH：对资源进行局部修改操作。

### 其他知识点
- 短连接：每个请求/响应都使用单独的TCP连接。（HTTP1.1前）
- 长连接：在一定时间范围内，请求/响应使用同一TCP连接。（HTTP1.1）
